/*Необходимо найти и посчитать, сколько записей в коллекции
Messages содержат слово «паровоз». Использовать агрегацию
для этих целей. Подсчет выполнять на стороне БД.
Всё это — за 1 запрос.*/

use('shm-chat');

//db.messages.find({body: /.*паровоз.*/gm}).count();

//db.messages.countDocuments({body: /.*паровоз.*/gm});

db.runCommand(
    {
        count: 'messages',
        query: {body: /.*паровоз.*/gm}
    }
);
